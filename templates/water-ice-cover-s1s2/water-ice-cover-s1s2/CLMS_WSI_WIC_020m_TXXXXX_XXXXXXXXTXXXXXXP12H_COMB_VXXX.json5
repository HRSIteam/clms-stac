{
    "type": "Feature",
    "stac_version": "1.1.0",
    "stac_extensions": [
        "https://stac-extensions.github.io/file/v2.1.0/schema.json",
        "https://stac-extensions.github.io/grid/v1.1.0/schema.json",
        "https://stac-extensions.github.io/processing/v1.2.0/schema.json",
        "https://stac-extensions.github.io/product/v1.0.0/schema.json",
        "https://stac-extensions.github.io/projection/v2.0.0/schema.json",
        "https://stac-extensions.github.io/raster/v2.0.0/schema.json",
        "https://stac-extensions.github.io/classification/v2.0.0/schema.json", 
        "https://stac-extensions.github.io/eo/v2.0.0/schema.json"
    ],
    "id": "<PRODUCT_ID>", 
    "bbox": [
        "<WEST_BOUNDING_LONGITUDE>",
        "<SOUTH_BOUNDING_LATITUDE>",
        "<EAST_BOUNDING_LONGITUDE>",
        "<NORTH_BOUNDING_LATITUDE>"
    ],
    "geometry": {
        "type": "Polygon",
        "coordinates": [
            [
                [
                    "<WEST_BOUNDING_LONGITUDE>",
                    "<SOUTH_BOUNDING_LATITUDE>"
                ],
                [
                    "<EAST_BOUNDING_LONGITUDE>",
                    "<SOUTH_BOUNDING_LATITUDE>"
                ],
                [
                    "<EAST_BOUNDING_LONGITUDE>",
                    "<NORTH_BOUNDING_LATITUDE>"
                ],
                [
                    "<WEST_BOUNDING_LONGITUDE>",
                    "<NORTH_BOUNDING_LATITUDE>"
                ],
                [
                    "<WEST_BOUNDING_LONGITUDE>",
                    "<SOUTH_BOUNDING_LATITUDE>"
                ]
            ]
        ]
    },
    "properties": {
        "_private": { /* Attributes not to be shown in STAC */
          "odata": { /* Attributes to be shown in OData */
            "areaOfInterest":"europe", 
            "component":"bio-geophysical", 
            "datasetAlias":"clms_wsi_water-ice-cover-s1s2", 
            "datasetIdentifier":"<COLLECTION_NAME>", 
            "datasetShortName":"wics1s2", 
            "fileFormat":"cog",
            "gridLabel":"20m", 
            "instrumentShortName": "COMBINED", /* eg. 'VEGETATION,OLCI,SLSTR' */
            "platformAcronym":"<PLATFORM_UPP_ACRONYM>", /* . e.g. 'SPOT4,S3A,S3B' */
            "platformShortName":"<PLATFORM_UPP>", /*  e.g. 'SPOT4,SENTINEL3A,SENTINEL3B' */
            "missionShortName":"COMBINED", /* (All platforms in uppercase.) e.g 'SPOT4,SENTINEL3' */
            "nominalDate":"<DATETIME>", /* The nominal date is the reference date for the data acquisition period covered by the product. This date will be used to extract YYYY/MM/DD in the folderstructure. e.g. '1999-01-01T00:00:00Z'  */
            "SDIResourceIdentifier":"copernicus_r_utm-wgs84_20_k_wics1s2_p_2016-now_v01_r00", 
            "temporalRepeatRate":"daily",
            "productType": "water_and_ice_cover",
            "cloudCover":"<CLOUD_COVER>",
            "projectionName":"utm"
          }
        },
        "created": "<CREATION_DATETIME>",/*When the JSON was generated by the CLMS producer. Here datetime.now(). Format 2025-06-21T00:00:00.000000Z.*/
        "datetime": "<DATETIME>", /* Indicates the date of the product, from the product (ie the date that the product represents, not necessarily when it was acquired or generated. same as the date indicated in the product name with the format 2025-06-21T00:00:00.000000Z.*/
        "description": "The Water and Ice Cover by Sentinel-1 and Sentinel-2 (WIC S1+S2) product is generated in near real-time at European scale. It results from the combination of WIC S1 and WIC S2 which are respectively water and ice cover data based on synthetic aperture radar data from the Sentinel-1 constellation and on optical satellite data from the Sentinel-2 constellation. The product provides the river and lake area covered by snow-covered or snow-free ice with a spatial resolution of 20 m x 20 m.",
        "start_datetime": "<START_DATETIME>", /* day of product 00:00:00 or 12:00:00 depending whether the <DATETIME> is in the morning or the afternoon. with the format 2025-06-21T00:00:00.000000Z. */
        "end_datetime": "<END_DATETIME>", /* day of product 11:59:59 or 23:59:59 depending whether the <DATETIME> is in the morning or the afternoon. with the format 2025-06-21T23:59:99.999999Z. */
        "gsd": 20, /* in meters */
        "grid:code": "MGRS-<TILE_ID>", /* eg. MGRS-32TNS */
        "instruments": [
          "msi", "sar"
        ],
        "platform": "multiplatform", 
        "constellation": "multimission",
        "processing:facility": "Magellium",
        "processing:level": "L3",
        "processing:datetime": "<PROCESSING_DATETIME>", /* with the format 2025-06-21T00:00:00.000000Z. */
        "processing:version": "<PROCESSING_VERSION>", /* eg. v0.0 */
        "product:type": "water_and_ice_cover",
        "product:timeliness": "PT12H",/* ISO 8601 duration */
        "product:timeliness_category": "NRT",
        "proj:code": "EPSG:<EPSG>", /* eg. EPSG:326XX where XX indicates the UTM zone, also corresponds to the first 2 digits of a tile name. */ 
        "proj:shape": [
            "<PROJ_SHAPE_HEIGHT>",
            "<PROJ_SHAPE_WIDTH>"
        ], /* gdalinfo size result */
        "proj:transform": [
            "<PROJ_TRANSFORM_0>",
            "<PROJ_TRANSFORM_1>",
            "<PROJ_TRANSFORM_2>",
            "<PROJ_TRANSFORM_3>",
            "<PROJ_TRANSFORM_4>",
            "<PROJ_TRANSFORM_5>",
            "<PROJ_TRANSFORM_6>",
            "<PROJ_TRANSFORM_7>",
            "<PROJ_TRANSFORM_8>"
        ], /* The affine transformation coefficients for the default grid. Obtained from GDAL(GetGeoTransform, requires re-ordering) or the Rasterio (Transform). */
        "eo:cloud_cover": "<CLOUD_COVER>", /* Estimate of cloud cover as a percentage (0-100). */
    },
    "collection": "<COLLECTION_NAME>", /* name of the collection JSON file */
    "links": [
        {
            "rel": "collection",
            "href": "<CDSE_COLLECTION_LINK>", /* this will be added by the CDSE */
            "type": "application/json"
        },
        {
            "rel": "parent",
            "href": "<CDSE_COLLECTION_LINK>",
            "type": "application/json"
        },
        {
            "rel": "root",
            "href": "https://stac.dataspace.copernicus.eu/v1/",
            "type": "application/json"
        },
        {
          "rel":"SDI_URL", 
          "href":"https://sdi.eea.europa.eu/catalogue/srv/eng/catalog.search#/metadata/668f4071-5d18-48dc-9034-9680a2aea717",
          "type":"text/html"
        },
        {
            "rel": "license",
            "href": "https://land.copernicus.eu/en/data-policy",
            "title": "Legal notice on the use of CLMS data"
        }
    ],
    "assets": {
        "Product": {
            "href":"<PRODUCT_BUCKET_PATH>", /*s3://CLMS_PRODUCER_BUCKET_PATH/YYYY/MM/DD/PRODUCT_NAME.tar>" where YYYY/MM/DD <- year/month/date of a product upload */
            "file:checksum": "<CHECKSUM>",/* must be multihash encoded */
            "file:size": "<SIZE>", /* specified in bytes */
            "roles": [
                "data",
                "metadata",
                "quality",
                "archive"
            ],
            "title": "TAR product",
            "type": "application/tar"
        },
        "MTD": {
            "title": "Product metadata",
            "description": "Product metadata",
            "type": "application/xml",
            "roles": ["metadata"],
            "file:checksum": "<CHECKSUM_MTD>",/* must be multihash encoded */
            "file:local_path": "<PRODUCT_ID>/<PRODUCT_ID>_MTD.xml",
            "file:size": "<SIZE_MTD>"
        },
        "QAFLAGS": {
            "title": "Quality Flags (QAFLAGS)",
            "description": "Bitmask layer with pixel quality flags",
            "type": "image/tiff; application=geotiff; profile=cloud-optimized",
            "roles": ["quality","data"],
            "data_type": "uint16",
            "classification:bitfields": [
            {
              "name": "temporary_water_or_hillshade",
              "description": "Depending on the information source (radar or optical), it indicates whether the pixel is located within a temporary water area or whether the pixel is located within the hillshade.",
              "offset": 0,
              "length": 1,
              "classes": [
                {
                  "name": "hillshade",
                  "description": "The pixel is located within the hillshade",
                  "value": 0
                },
                {
                  "name": "hillshade",
                  "description": "The pixel is located within a temporary water area, according to the EU-Hydro database.",
                  "value": 1
                }
              ]
            },
            {
              "name": "standing_uncategorized_water_or_water",
              "description": "Depending on the information source (radar or optical), it indicates whether the pixel is located within a standing water area or an uncategorized water body according to the EU-Hydro database or whether the pixel is part of a water body defined by the input water mask.",
              "offset": 1,
              "length": 1,
              "classes": [
                {
                  "name": "water",
                  "description": " The pixel is part of a water body, according to the water mask used as input.",
                  "value": 0
                },
                {
                  "name": "standing_or_uncategorized_water",
                  "description": " The pixel is located within a standing water area or an uncategorized water body, according to the EU-Hydro database.",
                  "value": 1
                }
              ]
            },
            {
              "name": "temperature_data_or_reclassified",
              "description": "Depending on the information source (radar or optical), it indicates whether algorithm had access to air temperature data to filter potential false alarms or whether the pixel was assigned a new classification in the post-processing step as the initial one was likely wrong.",
              "offset": 2,
              "length": 1,
              "classes": [
                {
                  "name": "reclassified",
                  "description": "The pixel was assigned a new classification in the post-processing step as the initial one was likely wrong.",
                  "value": 0
                },
                {
                  "name": "temperature_data",
                  "description": "The algorithm had access to air temperature data to filter potential false alarms.",
                  "value": 1
                }
              ]
            },
            {
              "name": "summer_day_or_undefined",
              "description": "If the information is derived from radar observation, it indicates whether the algorithm assessed that the acquisition was made in summer day conditions with a very low probability of ice presence, based on air temperature data.",
              "offset": 3,
              "length": 1,
              "classes": [
                {
                  "name": "undefined",
                  "description": "Undefined",
                  "value": 0
                },
                {
                  "name": "summer_day",
                  "description": "The probability of ice presence was assessed as very low by the algorithm, on the basis of the air temperature conditions.",
                  "value": 1
                }
              ]
            },
            {
              "name": "imperviousness_or_undefined",
              "description": "If the information is derived from radar observation, it indicates whether the pixel is located within an impervious area.",
              "offset": 4,
              "length": 1,
              "classes": [
                {
                  "name": "undefined",
                  "description": "Undefined.",
                  "value": 0
                },
                {
                  "name": "imperviousness",
                  "description": "The pixel is located within an impervious area.",
                  "value": 1
                }
              ]
            },
            {
              "name": "tree_cover_density_or_undefined",
              "description": "If the information is derived from radar observation, it indicates whether the pixel is located within an area of high-density tree cover.",
              "offset": 5,
              "length": 1,
              "classes": [
                {
                  "name": "undefined",
                  "description": "Undefined.",
                  "value": 0
                },
                {
                  "name": "tree_cover_density",
                  "description": "The pixel is located within an area of high-density tree cover.",
                  "value": 1
                }
              ]
            },
            {
              "name": "grassland_or_undefined",
              "description": "If the information is derived from radar observation, it indicates whether the pixel is located within a grassland area.",
              "offset": 6,
              "length": 1,
              "classes": [
                {
                  "name": "undefined",
                  "description": "Undefined.",
                  "value": 0
                },
                {
                  "name": "grassland",
                  "description": "The pixel is located within a grassland area.",
                  "value": 1
                }
              ]
            },
            {
              "name": "wind_speed_data_or_undefined",
              "description": "If the information is derived from radar observation, it indicates whether the algorithm had access to wind speed data in order to assess the suitability of Sentinel-1 satellite data for ice detection.",
              "offset": 7,
              "length": 1,
              "classes": [
                {
                  "name": "undefined",
                  "description": "Undefined.",
                  "value": 0
                },
                {
                  "name": "wind_speed_data",
                  "description": "The algorithm had access to wind speed data.",
                  "value": 1
                }
              ]
            },
            {
              "name": "windy_or_undefined",
              "description": "If the information is derived from radar observation, it indicates whether the algorithm assessed strong wind conditions that could lead to false alarms regarding ice cover.",
              "offset": 8,
              "length": 1,
              "classes": [
                {
                  "name": "undefined",
                  "description": "Undefined.",
                  "value": 0
                },
                {
                  "name": "windy",
                  "description": "The probability of false alarms regarding ice cover is high in relation to wind speed.",
                  "value": 1
                }
              ]
            },
            {
              "name": "remote_sensing_source",
              "description": "It indicates whether the pixel information is derived from an Sentinel-2 optical or a Sentinel-1 radar observation.",
              "offset": 9,
              "length": 1,
              "classes": [
                {
                  "name": "optical",
                  "description": "Sentinel-2-provided information.",
                  "value": 0
                },
                {
                  "name": "radar",
                  "description": "Sentinel-1-provided information.",
                  "value": 1
                }
              ]
            },
            {
              "name": "inland_water_or_undefined",
              "description": "It indicates whether the pixel is part of a water body according to the water mask used as input",
              "offset": 15,
              "length": 1,
              "classes": [
                {
                  "name": "undefined",
                  "description": "Undefined.",
                  "value": 0
                },
                {
                  "name": "inland_water",
                  "description": "The pixel is part of a water body.",
                  "value": 1
                }
              ]
            }
            ],
            "file:checksum": "<CHECKSUM_QAFLAGS>",/* must be multihash encoded */
            "file:local_path": "<PRODUCT_ID>/<PRODUCT_ID>_QAFLAGS.tif",
            "file:size": "<SIZE_QAFLAGS>"
        },
        "WIC": {
            "title": "Water/ice cover ",
            "description": "Water/ice cover classification derived either from Sentinel-2 or Sentinel-1",
            "type": "image/tiff; application=geotiff; profile=cloud-optimized",
            "roles": ["data"],
            "data_type": "uint8",
            "nodata": 255,
            "classification:classes": [
            {
              "value": 1,
              "name": "open_water",
              "description": "Open water",
            },
            {
              "value": 100,
              "name": "ice",
              "description": "Snow-covered or snow-free ice",
            },
            {
              "value": 200,
              "name": "radar_geometric_distorsions",
              "description": "Radar Shadow, layover, or foreshortening",
            },
            {
              "value": 205,
              "name": "cloud_or_cloud_shadow",
              "description": "Cloud or cloud shadow",
            },
            {
              "value": 254,
              "name": "other_features",
              "description": "Other features",
            }
            ],
            "file:checksum": "<CHECKSUM_WIC>",/* must be multihash encoded */
            "file:local_path": "<PRODUCT_ID>/<PRODUCT_ID>_WIC.tif",
            "file:size": "<SIZE_WIC>"
        },
        "WIC-QA": {
            "title": "Quality layer for the water/ice cover (WIC) layer",
            "description": "Quality layer providing basic assessment of the water/ice cover layer.",
            "type": "image/tiff; application=geotiff; profile=cloud-optimized",
            "roles": ["quality","data"],
            "data_type": "uint8",
            "nodata": 255,
            "classification:classes": [
            {
              "value": 0,
              "name": "high_quality",
              "description": "High quality",
            },
            {
              "value": 1,
              "name": "medium_quality",
              "description": "Medium quality"
            },
            {
              "value": 2,
              "name": "low_quality",
              "description": "Low quality",
            },
            {
              "value": 3,
              "name": "minimal_quality",
              "description": "Minimal quality",
            },
            {
              "value": 200,
              "name": "radar_geometric_distorsions",
              "description": "Radar Shadow, layover, or foreshortening",
            },
            {
              "value": 205,
              "name": "cloud_or_cloud_shadow",
              "description": "Cloud or cloud shadow",
            }
            ],
            "file:checksum": "<CHECKSUM_WIC-QA>",/* must be multihash encoded */
            "file:local_path": "<PRODUCT_ID>/<PRODUCT_ID>_WIC-QA.tif",
            "file:size": "<SIZE_WIC-QA>"
        },
    }
}
